---
import Layout from "../layouts/Layout.astro";
import "../../style/base.scss";
import { getData } from "../libs/micro";
import Proflie from "../components/Proflie.astro";

const responce = await getData({
  fields: ["title", "content", "url", "image"],
});
---

<Layout title="Tkeshi Aoki's Portfolio">
  <main>
    <h1>Take's Portfolio</h1>

    <Proflie />

    <ul>
      {
        responce.contents.map((content: any) => (
          <li>
            <img src={content.image.url} alt="私が制作してきたこれまでの作品" />
            <a href={content.url} target="_blank">
              {content.title}
            </a>
            <p>{content.content}</p>
          </li>
        ))
      }
    </ul>
  </main>
</Layout>
